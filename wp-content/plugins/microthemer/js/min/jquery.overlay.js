try{window.parent.TvrSharedVars&&(window.onerror=function(r,e,t){window.parent.TvrSharedVars.JSerrors.push({error:r,URL:e,line:t,source:"frontend preview"}),window.parent.TvrSharedVars.js_in_focus()&&window.parent.TvrSharedVars.prog_error("","",!0)},function(r){r.fn.extend({add_overlay:function(e){var t=this.length;t>19&&(t=19);var a=["left","top","right","bottom"],n={padding:!0,margin:!0,border:!0,content:!0},e=r.extend(n,e);return this.each(function(n){if(n>t)return!1;var i=window.TvrExportVars.overlayCount,o=this,l=r(this);if(!r(this).hasClass("tvr-element-overlay")&&r(this).is(":visible")){r(this).addClass("tvr-element-overlay"),r(this).hasClass("tvr-hover-overlay")||r(this).addClass("tvr-static-overlay");var d={},v=parseInt(l.css("font-size")),p=r(this).offset();if(p.top=p.top+parseInt(l.css("border-top-width")),p.left=p.left+parseInt(l.css("border-left-width")),window.parent.TvrSharedVars.highlightEnabled)var c="";else var c="display:none;";r("body").prepend('<div id="over-cont-'+i+'" class="tvr-overlay tvr-container-overlay" style="width:'+r(this).innerWidth()+"px;height:"+r(this).innerHeight()+"px;"+c+'"></div>');var h=r("#over-cont-"+i);if(r(this).hasClass("tvr-hover-overlay")&&h.mouseleave(function(){h.remove(),r(o).removeClass("tvr-element-overlay tvr-hover-overlay")}),h.offset({top:p.top,left:p.left}),e.margin){h.append('<div class="tvr-overlay tvr-margin-overlay"></div>');for(s in a){var _=0-parseInt(l.css("margin-"+a[s]))-parseInt(l.css("border-"+a[s]+"-width"));d[a[s]]=_/v+"em"}h.find(".tvr-margin-overlay").css(d)}if(e.border&&(h.append('<div class="tvr-overlay tvr-border-overlay"></div>'),h.find(".tvr-border-overlay").css({top:0-parseInt(l.css("border-top-width"))/v+"em",right:0-parseInt(l.css("border-right-width"))/v+"em",bottom:0-parseInt(l.css("border-bottom-width"))/v+"em",left:0-parseInt(l.css("border-left-width"))/v+"em"})),e.padding&&h.append('<div class="tvr-overlay tvr-padding-overlay"></div>'),e.content){h.append('<div class="tvr-overlay tvr-content-overlay"></div>'),d={};for(s in a)d[a[s]]=parseInt(l.css("padding-"+a[s]))/v+"em";h.find(".tvr-content-overlay").css(d)}window.TvrExportVars.overlayCount++}})}})}(jQuery),tvrLazyLoad=function(r){function e(e,t){var a,n=r.createElement(e);for(a in t)t.hasOwnProperty(a)&&n.setAttribute(a,t[a]);return n}function t(r){var e,t,a=d[r];a&&(e=a.callback,t=a.urls,t.shift(),v=0,t.length||(e&&e.call(a.context,a.obj),d[r]=null,p[r].length&&n(r)))}function a(){var e=navigator.userAgent;o={async:r.createElement("script").async===!0},(o.webkit=/AppleWebKit\//.test(e))||(o.ie=/MSIE|Trident/.test(e))||(o.opera=/Opera/.test(e))||(o.gecko=/Gecko\//.test(e))||(o.unknown=!0)}function n(n,v,c,h,_){var w,f,g,u,y,m,S=function(){t(n)},T="css"===n,V=[];if(o||a(),v)if(v="string"==typeof v?[v]:v.concat(),T||o.async||o.gecko||o.opera)p[n].push({urls:v,callback:c,obj:h,context:_});else for(w=0,f=v.length;f>w;++w)p[n].push({urls:[v[w]],callback:w===f-1?c:null,obj:h,context:_});if(!d[n]&&(u=d[n]=p[n].shift())){for(l||(l=r.head||r.getElementsByTagName("head")[0]),y=u.urls.concat(),w=0,f=y.length;f>w;++w)m=y[w],T?g=o.gecko?e("style"):e("link",{href:m,rel:"stylesheet"}):(g=e("script",{src:m}),g.async=!1),g.className="lazyload",g.setAttribute("charset","utf-8"),o.ie&&!T&&"onreadystatechange"in g&&!("draggable"in g)?g.onreadystatechange=function(){/loaded|complete/.test(g.readyState)&&(g.onreadystatechange=null,S())}:T&&(o.gecko||o.webkit)?o.webkit?(u.urls[w]=g.href,i()):(g.innerHTML='@import "'+m+'";',s(g)):g.onload=g.onerror=S,V.push(g);for(w=0,f=V.length;f>w;++w)l.appendChild(V[w])}}function s(r){var e;try{e=!!r.sheet.cssRules}catch(a){return v+=1,void(200>v?setTimeout(function(){s(r)},50):e&&t("css"))}t("css")}function i(){var r,e=d.css;if(e){for(r=c.length;--r>=0;)if(c[r].href===e.urls[0]){t("css");break}v+=1,e&&(200>v?setTimeout(i,50):t("css"))}}var o,l,d={},v=0,p={css:[],js:[]},c=r.styleSheets;return{css:function(r,e,t,a){n("css",r,e,t,a)},js:function(r,e,t,a){n("js",r,e,t,a)}}}(this.document),window.TvrExportVars={},jQuery(document).ready(function(r){parseInt(r("#mt-show-admin-bar").attr("content"))||r("html").addClass("no-admin-bar-please"),r(window).keypress(function(r){return 115==r.which&&r.ctrlKey||19==r.which?(r.preventDefault(),!1):!0}),r(document).keydown(function(r){return 83==r.which&&1==r.ctrlKey?(window.parent.TvrSharedVars.ua_detected(),window.parent.TvrSharedVars.ajax_save_settings("save"),r.preventDefault(),!1):void 0}),window.parent.TvrSharedVars.in_array(js_i18n_overlay.load_wp,window.parent.TvrSharedVars.progStatus)&&window.parent.TvrSharedVars.update_prog_indicator("minus",!1,js_i18n_overlay.load_wp),window.parent.TvrSharedVars.in_array(js_i18n_overlay.refresh_js,window.parent.TvrSharedVars.progStatus)&&window.parent.TvrSharedVars.update_prog_indicator("minus",!1,js_i18n_overlay.refresh_js),window.parent.TvrSharedVars.in_array(js_i18n_overlay.refresh_styles,window.parent.TvrSharedVars.progStatus)&&window.parent.TvrSharedVars.update_prog_indicator("minus",!1,js_i18n_overlay.refresh_styles);var e=[],t={styleSheetObj:{},stylesheetUrl:"",init:function(){t.stylesheet=r("#microthemer-css"),window.parent.TvrSharedVars.isDomEl(t.stylesheet)||(t.stylesheet=r('link[href*="\\/micro-themes\\/'+window.parent.TvrSharedVars.cssMin+window.parent.TvrSharedVars.cssStub+'-styles.css"]')),window.parent.TvrSharedVars.isDomEl(t.stylesheet)?t.stylesheetUrl=t.stylesheet.attr("href"):(t.stylesheet=!1,t.stylesheetUrl=!1),window.TvrExportVars.iframe_window_fully_loaded=!0},refreshJS:function(){location.reload()},refreshCSS:function(){var e,a=r("head").find(".lazyload"),n="?reload="+(new Date).getTime();if(e=window.parent.TvrSharedVars.microUrl+window.parent.TvrSharedVars.cssMin+window.parent.TvrSharedVars.cssStub+"-styles.css"+n,window.parent.TvrSharedVars.g_url)var s=window.parent.TvrSharedVars.g_url+n.replace("?","&"),i=[e,s],o=r("#microthemer_g_font-css");else var i=e,o=r("#tvr-no-sheet");tvrLazyLoad.css(i,function(e){var n=r("#microthemer-css").add(o);n&&n.remove(),a&&a.remove(),t.get_computed_styles(window.parent.TvrSharedVars.curSelCSS,"str"),window.parent.TvrSharedVars.refresh_comp_css(),t.update_highlight("reg"),window.parent.TvrSharedVars.in_array(js_i18n_overlay.refresh_styles,window.parent.TvrSharedVars.progStatus)&&window.parent.TvrSharedVars.update_prog_indicator("minus",!1,js_i18n_overlay.refresh_styles)},"hello")},clean_classes:function(r){return r=r.replace("  "," ").replace("tvr-crosshair","").replace("  "," ").replace("tvr-element-overlay","").replace("  "," ").replace("customize-support","").replace("  "," ").replace("tvr-static-overlay","").replace("  "," "),r.replace(/^\s+|\s+$/g,"")},initialEl:{},build_selector_suggestions:function(r){t.initialEl=r;for(var a in e)delete e[a];var n={};n.a={},n.a[":visited"]="visited link",n.a[":active"]="active state link",n.a[":hover"]="hover state link";var s=r.prop("tagName").toLowerCase();if("input"==s)var i=r.attr("type");var o=r.attr("id"),l=r.attr("class");l&&(l=t.clean_classes(l));var d=r.parent().not("html"),v=0,p="",c=[],h=-1,_="&#60;"+s;"input"==s&&(_+=" type="+i);var w=js_i18n_overlay.element_type_target;if(e[w]=[],"input"==s)e[w][s+"[type="+i+"]"]="<"+s+"> "+js_i18n_overlay.elements_of_type+" '"+i+"'";else if("a"==s)for(var f in n[s])e[w][s+f]="<"+s+">s ("+n[s][f]+")";if(e[w][s]=tvrsprintf(js_i18n_overlay.all_elements,s),++v,l){_+=' class="'+l+'"',w=js_i18n_overlay.element_class_target,e[w]=[];for(var g=l.split(" "),u=0;u<g.length;u++){if(p=s+"."+g[u],"a"==s)for(var f in n[s])e[w][p+f]="<"+s+"> "+js_i18n_overlay.elements_of_class+" '"+g[u]+"' ("+n[s][f]+")";e[w][p]="<"+s+"> "+js_i18n_overlay.elements_of_class+" '"+g[u]+"'",0==u&&(c[++h]=p)}var y=!0,m=!0;++v}if(d.prop("tagName")){var S=t.find_parent_attributes(d,"class");if(S){w=js_i18n_overlay.parent_class_target,e[w]=[];for(var T=S.prop("tagName").toLowerCase(),V=t.clean_classes(S.attr("class")),b=V.split(" "),u=0;u<b.length;u++){if(p=T+"."+b[u]+" "+s,"a"==s)for(var f in n[s])e[w][p+f]=tvrsprintf(js_i18n_overlay.parent_class_target_desc,s,T,b[u])+"' ("+n[s][f]+")";e[w][p]=tvrsprintf(js_i18n_overlay.parent_class_target_desc,s,T,b[u])+"'",m||0!=u||(c[++h]=p)}var j=!0;++v}}if(y&&j){w=js_i18n_overlay.parent_element_class_target,e[w]=[];for(var u=0;u<b.length;u++)for(var k=0;k<g.length;k++){if(p=T+"."+b[u]+" "+s+"."+g[k],"a"==s)for(var f in n[s])e[w][p+f]=tvrsprintf(js_i18n_overlay.parent_element_class_target_desc,s,g[k],T,b[u])+"' ("+n[s][f]+")";e[w][p]=tvrsprintf(js_i18n_overlay.parent_element_class_target_desc,s,g[k],T,b[u]),0==u&&(c[++h]=p)}++v}if(window.parent.TvrSharedVars.hasValue(o)){if(_+=' id="'+o+'"',w=js_i18n_overlay.element_id_target,e[w]=[],p=s+"#"+o,"a"==s)for(var f in n[s])e[w][p+f]=tvrsprintf(js_i18n_overlay.element_id_target_desc,s,o)+" ("+n[s][f]+")";e[w][p]=tvrsprintf(js_i18n_overlay.element_id_target_desc,s,o),c[++h]=p;var x=!0,C=!0;++v}if(d.prop("tagName")){var E=t.find_parent_attributes(d,"id");if(E){w=js_i18n_overlay.parent_id_target,e[w]=[];var I=E.prop("tagName").toLowerCase(),L=E.attr("id");if(p=I+"#"+L+" "+s,"a"==s)for(var f in n[s])e[w][p+f]=tvrsprintf(js_i18n_overlay.parent_id_target_desc,s,I,L)+" ("+n[s][f]+")";e[w][p]=tvrsprintf(js_i18n_overlay.parent_id_target_desc,s,I,L),C||(c[++h]=p);var N=!0;++v}}if(y&&N){w=js_i18n_overlay.parent_id_element_class_target,e[w]=[];for(var k=0;k<g.length;k++){if(p=I+"#"+L+" "+s+"."+g[k],"a"==s)for(var f in n[s])e[w][p+f]=tvrsprintf(js_i18n_overlay.parent_id_element_class_target_desc,s,g[k],I,L)+" ("+n[s][f]+")";e[w][p]=tvrsprintf(js_i18n_overlay.parent_id_element_class_target_desc,s,g[k],I,L),0==k&&(c[++h]=p)}++v}if(x&&N){if(w=js_i18n_overlay.parent_element_id_target,e[w]=[],p=I+"#"+L+" "+s+"#"+o,"a"==s)for(var f in n[s])e[w][p+f]=tvrsprintf(js_i18n_overlay.parent_element_id_target_desc,s,o,I,L)+" ("+n[s][f]+")";e[w][p]=tvrsprintf(js_i18n_overlay.parent_element_id_target_desc,s,o,I,L),c[++h]=p,++v}h>-1?window.parent.TvrSharedVars.intelli_css=p:window.parent.TvrSharedVars.intelli_css=s,e.Intelli=[],e.Intelli.ogCount=v;var z=r.children().not(".tvr-container-overlay, script").filter(":first"),P=r.prevAll().not(".tvr-container-overlay, script, head").filter(":first"),O=r.nextAll().not(".tvr-container-overlay, script").filter(":first");e.Intelli.parent=d.prop("tagName")?d:!1,e.Intelli.child=z.prop("tagName")?z:!1,e.Intelli.prev=P.prop("tagName")?P:!1,e.Intelli.next=O.prop("tagName")?O:!1,_=t.finish_tag_string(s,_),e.Intelli.htmlString=_,t.update_highlight("intelli"),window.parent.TvrSharedVars.highlightEnabled||(window.parent.TvrSharedVars.tmpHighlighting=!0,window.parent.TvrSharedVars.toggle_highlighting()),window.parent.TvrSharedVars.TvrSugCSS=e,t.get_computed_styles(r,"obj",!0),window.parent.TvrSharedVars.intelli?window.parent.TvrSharedVars.update_selector_wizard():window.parent.TvrSharedVars.show_wizard()},finish_tag_string:function(r,e){return e+="area"!=r&&"base"!=r&&"br"!=r&&"col"!=r&&"command"!=r&&"embed"!=r&&"hr"!=r&&"img"!=r&&"input"!=r&&"meta"!=r&&"param"!=r&&"source"!=r?"&#62;...&#60;/"+r+"&#62;":" /&#62;"},find_parent_attributes:function(r,e){return r.attr(e)&&t.clean_classes(r.attr(e))?r:(r=r.parent().not("html"),r.prop("tagName")?t.find_parent_attributes(r,e):!1)},allocateOverlayMode:function(r){},format_mixed_array:function(r,e){for(var a={},n=0;n<r.length;n++){var s=e[n].atts,i="&#60;"+s.type;s.id&&(i+=' id="'+s.id+'"'),s["class"]&&(s["class"]=s["class"].replace("tvr-element-overlay","").replace("tvr-static-overlay","").replace("  "," "),/\S/.test(s["class"])&&(i+=' class="'+s["class"]+'"')),i=t.finish_tag_string(s.type,i),a[n]=[],a[n].val=r[n],a[n].htmlString=i}return a},compProps:{},clean_selector:function(r){r=r.replace(/:hover/g,"").replace(/:active/g,"").replace(/:visited/g,"").replace(/:link/g,"").replace(/::before/g,"").replace(/:before/g,"").replace(/::after/g,"").replace(/:after/g,""),r=window.parent.TvrSharedVars.custom_to_non_escaped(window.parent.TvrSharedVars.jquery_escape_quotes(r));var e=window.parent.TvrSharedVars.analyse_sel_code(r);return e.code},flatten:function(r){var e=[],t=-1;for(var a in r)if("[object Array]"===Object.prototype.toString.call(r[a]))for(var n in r[a])e[++t]=r[a][n];return e},flatten_better:function(e){var t=[],a=-1;for(var n in e)if(r.isArray(e[n]))for(var s in e[n])t[++a]=e[n][s];return t},sel_elements:{},get_computed_styles:function(e,a,n){if("str"==a){e=t.clean_selector(e);var s=r("#wpadminbar"),i=r(e).not(s).not(s.find(e))}else var i=t.initialEl;if(t.sel_elements=i,!i.length)return window.parent.TvrSharedVars.compProps={},!1;if(""==window.parent.TvrSharedVars.pgInFocus||n)var o=t.flatten(window.parent.TvrSharedVars.cssProps);else var o=window.parent.TvrSharedVars.cssProps[window.parent.TvrSharedVars.pgInFocus];var l=i.length;l>19&&(l=19);var d={ltr:{start:"left",end:"right",webkitauto:"left"},rtl:{start:"right",end:"left",webkitauto:"right"}},v=[],p=[];t.compProps={};var c=0,h=jQuery.fn.jquery.split(".").map(function(r){return("0"+r).slice(-2)}).join(".");h=h.toString(),i.each(function(e){if(++c,e>l)return!1;v[e]=[];var t=r(this);if(h>="01.09.00")var a=t.css(o);else{var a={"font-family":""},n={"short":js_i18n_overlay.update_jquery,"long":"<p>"+js_i18n_overlay.update_jquery_long+"</p>",type:"error"};window.parent.TvrSharedVars.log(n),window.parent.TvrSharedVars.update_full_logs()}for(var s in a)if(window.parent.TvrSharedVars.hasValue(a[s])){if("text-align"!=s||"start"!=a[s]&&"end"!=a[s]){if("text-align"==s&&"-webkit-auto"==a[s])a[s]=d[a.direction][a[s].replace(/-/g,"")];else if("text-decoration"==s){var i=a[s].split(" ");a[s]=i[0]}}else;if(a[s]=window.parent.TvrSharedVars.sane_decimal(a[s]),"background-position"==s||"background-repeat"==s||"background-size"==s||"background-clip"==s||"background-attachment"==s){var i=a[s].split(",");a[s]=i[0]}"background-image"==s&&(a["background-img-full"]=a[s],a["extracted-gradient"]=window.parent.TvrSharedVars.extract_str("gradient",a[s]),a[s]=window.parent.TvrSharedVars.extract_str("bg-image",a[s]));var _=t.parent();p[e]=[],p[e].element={},p[e].element=t.css(["font-size","width","height"]),window.parent.TvrSharedVars.isDomEl(_)&&(p[e].parent=_.css(["font-size","width","height"]))}v[e].propsList=a,v[e].atts=[],v[e].atts.type=t.prop("tagName").toLowerCase(),v[e].atts.id=t.attr("id"),v[e].atts["class"]=t.attr("class")});for(var _ in o){var w=o[_],f=v[0].propsList[w],g=new Array,u=!1;for(var y in v)v[y].propsList&&(g[y]=v[y].propsList[w],g[y]!=f&&(u=!0));u?t.compProps[w]=t.format_mixed_array(g,v):t.compProps[w]=f}n?(window.parent.TvrSharedVars.intelliCompProps=t.compProps,window.parent.TvrSharedVars.intellinodeCSS=p):(window.parent.TvrSharedVars.compProps=t.compProps,window.parent.TvrSharedVars.nodeCSS=p)},update_highlight:function(e,a){if(r(".tvr-container-overlay").remove(),r(".tvr-element-overlay").removeClass("tvr-element-overlay tvr-static-overlay"),"reg"==e)var n=t.clean_selector(window.parent.TvrSharedVars.curSelCSS);else if("intelli"==e||"sel-preview"==e)var n=t.clean_selector(window.parent.TvrSharedVars.intelli_css);window.TvrExportVars.overlayCount=0;try{if("mixed-hover"!=e)var s=r("#wpadminbar"),i=r(n).not(s).not(s.find(n)),o=i.first();else var i=t.sel_elements.eq(window.parent.TvrSharedVars.mixedElKey),o=i;("mixed-hover"==e||"sel-preview"==e||a)&&r("html, body").animate({scrollTop:o.offset().top-36},250),i.add_overlay()}catch(l){}},showOverlays:function(){r(".tvr-container-overlay").show()},hideOverlays:function(){r(".tvr-container-overlay").hide()},singleClick:function(r,e,t,a,n,s){e.preventDefault();var i="";return"a"==t?i=r.attr("href"):s&&(i=n.attr("href")),i.match(/\.(gif|jpe?g|png|svg)$/i)?!1:void setTimeout(function(){var e=parseInt(r.data("double"),10);if(e>0){if(r.data("double",e-1),s)return!1}else if("a"==t||s)i.indexOf(window.parent.TvrSharedVars.adminUrl)>-1&&(window.parent.location=i),window.location=i;else if("submit"==a){var n=r.closest("form");window.parent.TvrSharedVars.isDomEl(n)&&n.trigger("submit")}},700)}};r("body").on("mouseup",function(){window.parent.TvrSharedVars.colorPickerDragging&&window.parent.TvrSharedVars.picker_method("clickpick")}),r("body").click(function(e){var a=r(e.target);window.parent.TvrSharedVars.close_all_expanded(a,"");var n=a.closest("a"),s=!1;if(window.parent.TvrSharedVars.isDomEl(n))var s=!0;var i=a.prop("tagName").toLowerCase(),o=a.attr("type");o&&(o=o.toLowerCase()),("a"==i||s||"submit"==o)&&t.singleClick(a,e,i,o,n,s)}).dblclick(function(e){e.preventDefault();var a=r(e.target);if(a.data("double",2),a.hasClass("tvr-overlay")){if(window.parent.TvrSharedVars.intelli){js_i18n_overlay.wizard_mode}else{js_i18n_overlay.regular_mode}return window.parent.TvrSharedVars.hide_wizard(),!1}window.parent.TvrSharedVars.show_interface||window.parent.TvrSharedVars.show_interface_feature(!1,"show_interface");t.build_selector_suggestions(a)}),window.TvrExportVars.update_highlight=t.update_highlight,window.TvrExportVars.showOverlays=t.showOverlays,window.TvrExportVars.hideOverlays=t.hideOverlays,window.TvrExportVars.build_selector_suggestions=t.build_selector_suggestions,window.TvrExportVars.refreshCSS=t.refreshCSS,window.TvrExportVars.refreshJS=t.refreshJS,window.TvrExportVars.get_computed_styles=t.get_computed_styles,window.TvrExportVars.iframe_window_fully_loaded=!1,r(window).load(function(){t.init();var r="reg";window.parent.TvrSharedVars.intelli&&(r="intelli"),t.update_highlight(r),window.parent.TvrSharedVars.awaitingIframeReloadAfterSave?(t.refreshCSS(),window.parent.TvrSharedVars.awaitingIframeReloadAfterSave=!1):(t.get_computed_styles(window.parent.TvrSharedVars.curSelCSS,"str",window.parent.TvrSharedVars.intelli),window.parent.TvrSharedVars.refresh_comp_css()),window.parent.TvrSharedVars.remember_page_viewed()})}))}catch(e){}
//# sourceMappingURL=maps/jquery.overlay.js.map
